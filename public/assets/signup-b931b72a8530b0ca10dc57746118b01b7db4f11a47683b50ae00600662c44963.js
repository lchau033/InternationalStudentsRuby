function tamingselect(){function e(e,t){return new RegExp("\\b"+t+"\\b").test(e.className)}function t(t,n,a){var o=t.className;t.className=e(t,n)?o.replace(n,a):o.replace(a,n)}function n(t,n){e(t,n)||(t.className+=""==t.className?n:" "+n)}if(document.getElementById||document.createTextNode){for(var a="turnintodropdown",o="turnintoselect",r="dropcontainer",d="activetrigger",i="trigger",l="dropdownhidden",c="dropdownvisible",m=0,s=new Array,u=document.getElementsByTagName("select"),p=$(".turnintodropdown").find(":selected"),g=0;g<u.length;g++)if(e(u[g],a)){var h=document.createElement("input");h.name=u[g].name,h.type="hidden",h.id=u[g].id,h.value=p?p.get(0).value:u[g].options[0].value,u[g].parentNode.insertBefore(h,u[g]);var f=document.createElement("a");n(f,i),f.href="#",f.onclick=function(){return t(this,i,d),t(this.parentNode.getElementsByTagName("ul")[0],l,c),!1},p.text()?f.appendChild(document.createTextNode(p.text())):f.appendChild(document.createTextNode(u[g].options[0].text)),u[g].parentNode.insertBefore(f,u[g]);for(var N=document.createElement("ul"),v=0;v<u[g].getElementsByTagName("option").length;v++){var E=document.createElement("li"),T=document.createElement("a");E.v=u[g].getElementsByTagName("option")[v].value,E.elm=h,E.istrigger=f,T.href="#",T.appendChild(document.createTextNode(u[g].getElementsByTagName("option")[v].text)),E.onclick=function(){return this.elm.value=this.v,t(this.istrigger,d,i),t(this.parentNode,c,l),this.istrigger.firstChild.nodeValue=this.firstChild.firstChild.nodeValue,!1},E.appendChild(T),N.appendChild(E)}n(N,l);var B=document.createElement("div");B.appendChild(N),n(B,r),u[g].parentNode.insertBefore(B,u[g]),s[m]=u[g],m++}for(var y=document.getElementsByTagName("ul"),g=0;g<y.length;g++)if(e(y[g],o)){var C=document.createElement("form"),x=document.createElement("select");for(v=0;v<y[g].getElementsByTagName("a").length;v++){var w=document.createElement("option");w.value=y[g].getElementsByTagName("a")[v].href,w.appendChild(document.createTextNode(y[g].getElementsByTagName("a")[v].innerHTML)),x.appendChild(w)}x.onchange=function(){window.location=this.options[this.selectedIndex].value},C.appendChild(x),y[g].parentNode.insertBefore(C,y[g]),s[m]=y[g],m++}for(g=0;g<m;g++)s[g].parentNode.removeChild(s[g])}}$(document).ready(tamingselect),$(document).on("turbolinks:load",tamingselect);